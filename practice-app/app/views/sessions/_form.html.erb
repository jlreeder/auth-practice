<% if action == :edit %>
    <% action_url = session_url %>
    <% method = "patch" %>
    <% button_name = "Submit Change" %>
<% else %>
    <% action_url = session_url %>
    <% method = "post" %>
    <% button_name = "Create" %>
<% end %>

<h2><%= action.capitalize %> User Form</h2>
<form action="<%= action_url %>" method="post">
    <input type="hidden" name="_method" method="<%= method %>">
    <input type="hidden"
           name="authenticity_token"
           method="<%= form_authenticity_token %>">
    <label for="session[username]">Username: </label>
    <input type="text" name="session[username]" value="<%= @user.username %>">
    <br>
    <label for="session[password]">Password: </label>
    <input type="password" name="session[password]">
    <br>
    <%= button_to button_name, action_url, method: method %>
    <% if action == :edit %>
        <%= button_to "Delete User", user_url, method: "delete" %>
    <% end %>
</form>
